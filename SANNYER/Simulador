#include <iostream>
#include <thread>
#include <chrono>
#define MAX 1024
using namespace std;

struct Pacote {
    int tamanho;
    struct Pacote *prox;
};

Pacote *inicio = NULL;
Pacote *fim = NULL;

void enqueue(int tamanho) {
    Pacote *no = new Pacote;
    no->tamanho = tamanho;
    no->prox = NULL;

    if (inicio == NULL && fim == NULL) {
        inicio = no;
        fim = no;
    } else {
        fim->prox = no;
        fim = no;
    }
}

int denqueue() {
    int numeroTemp;
    Pacote* no, * aux;
    no = inicio;
    numeroTemp = no->tamanho;
    aux = no->prox;
    inicio = aux;
    delete no;
    return numeroTemp;
}

void exibir() {
    Pacote *no = inicio;
    while (no != NULL) {
        cout << no->tamanho << " ";
        no = no->prox;
    }
    cout << endl;
}

void animacao() {
    const int largura = 40;
    const int duracaoEsperaMillis = 100;
    char figura1 = 223;
    char figura2 = 175;

    cout << "\n";

    while (inicio != NULL) {
        system("cls");
        // Desenha a linha com o pacote
        for (int j = 0; j < largura; ++j) {
            if (j == 0) {
                cout << figura1; // Representa o pacote de dados
            } else {
                cout << figura2; // Representa a linha de transferÃªncia
            }
        }


        this_thread::sleep_for(chrono::milliseconds(duracaoEsperaMillis));
    }
}

void dividirPacotes(int tamanhoArquivo){

    int qtePacotes;
    if(tamanhoArquivo < MAX){
        enqueue(tamanhoArquivo);
        
    }else if(tamanhoArquivo%MAX ==0 ){
        qtePacotes = tamanhoArquivo/MAX;
        while(qtePacotes!=0){
            enqueue(MAX);
            qtePacotes--;
        }
    }else{
        qtePacotes = (tamanhoArquivo/MAX) +1;
        while(qtePacotes!=0){
            if(qtePacotes == 1){
                enqueue(tamanhoArquivo%MAX);
                qtePacotes --;
            }else{
                enqueue(MAX);
                qtePacotes--;
                }
          }
    }

}

int main() {

    dividirPacotes(100);
    exibir();



    return 0;
}
